# FileSearcher 性能测试报告

## 测试环境
- 操作系统: Microsoft Windows 10.0.22621
- 处理器: 24 核心
- .NET 版本: 8.0.13
- 测试时间: 2025/5/10 12:29:49

## 测试结果

### 目录: E:\guanpeng\docs

| 并行度 | 平均搜索时间 (ms) | 文件数 | 每秒处理文件数 |
|--------|-----------------|--------|---------------|
| 1 | 33.05 | 6697 | 202624 |
| 2 | 26.69 | 6697 | 250894 |
| 4 | 24.42 | 6697 | 274212 |
| 8 | 26.83 | 6697 | 249617 |
| 24 | 23.38 | 6697 | 286439 |

### 并行加速比分析

| 并行度 | 加速比 | 效率 |
|--------|--------|------|
| 2 | 1.24x | 61.91% |
| 4 | 1.35x | 33.83% |
| 8 | 1.23x | 15.40% |
| 24 | 1.41x | 5.89% |

## 性能优化建议

基于测试结果，我们可以得出以下建议:

1. **最佳并行度**: 并行度设置为处理器核心数通常能获得最佳性能，但在IO密集型操作上可能需要更高的并行度。
2. **大型目录处理**: 对于大型目录，`GetFiles`方法(使用`EnumerateFiles`)通常比`SearchFiles`更高效，特别是在内存受限的环境中。
3. **并行效率**: 随着并行度增加，效率通常会下降。这主要受磁盘IO限制，增加处理器数量可能不会线性提升性能。
4. **优化建议**: 考虑在产品中根据文件系统类型(SSD vs HDD)和目录大小动态调整并行度。

